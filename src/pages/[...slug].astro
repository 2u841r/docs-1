---
import MainLayout from "~/layouts/MainLayout.astro";
import { CollectionEntry, getCollection, renderEntry } from "astro:content";
import CMSLayout from "~/layouts/CMSLayout.astro";
import DeployGuideLayout from "~/layouts/DeployGuideLayout.astro";
import IntegrationLayout from "~/layouts/IntegrationLayout.astro";
import TutorialLayout from "~/layouts/TutorialLayout.astro";
export async function getStaticPaths() {
	const pages = await getCollection('docs');
	return pages.map(page => ({
		params: {slug: page.slug},
		props: page,
	}))
}

type Props = CollectionEntry<'docs'>;
const page = Astro.props;
const { Content } = await renderEntry(page);
---

{page.data.preferredLayout === '~/layouts/CMSLayout.astro' ? (
	<CMSLayout content={page.data}>
		<Content />	
	</CMSLayout>
) : page.data.preferredLayout === '~/layouts/DeployGuideLayout.astro' ? (
	<DeployGuideLayout content={page.data}>
		<Content />	
	</DeployGuideLayout>
) : page.data.preferredLayout === '~/layouts/IntegrationLayout.astro' ? (
	<IntegrationLayout content={page.data}>
		<Content />	
	</IntegrationLayout>
) : page.data.preferredLayout === '~/layouts/TutorialLayout.astro' ? (
	<TutorialLayout content={page.data}>
		<Content />	
	</TutorialLayout>
) : (
	<MainLayout content={page.data}>
		<Content />
	</MainLayout>
)}
